<div class="row ">
  <div class="col-md-12">
  <%= form_for @shop, url: '/settings', data: {remote: false} do |f| %>
  <div class="row row-bordered pt-0">
    <div class="col-md-4" style="padding: 15px">
    <p style="font-size: larger; font-weight: 500">
      When "off" no emails will be sent and your tokens will remain intact.
      </p>
    </div>
    <div class="row col-md-8 p-0 m-0">
      <div class="card card-user col-md-6">
        <div class="row p">
          <div class="input-row settings">
            <div class="pr-3 pl-3">
              <span class="form-label" > <label>Thank you email Status</label> </span> 
              
              <div class="toggle-group">
                  <%= f.check_box :thank_you_status, class: 'd-none',id: "thank_you_status" %>
                  <label for="thank_you_status">
                  </label>
                  <div class="onoffswitch pull-right" aria-hidden="true">
                      <div class="onoffswitch-label">
                          <div class="onoffswitch-inner"></div>
                          <div class="onoffswitch-switch"></div>
                      </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card card-user col-md-6">
        <div class="row">
          <div class="input-row settings">
            <div class="pr-3 pl-3">
              <span class="form-label" > <label>Review email Status</label> </span> 
              <div class="toggle-group">
                  <%= f.check_box :review_status, class: 'd-none',id: "review_status" %>
                  <label for="review_status">
                  </label>
                  <div class="onoffswitch pull-right" aria-hidden="true">
                      <div class="onoffswitch-label">
                          <div class="onoffswitch-inner"></div>
                          <div class="onoffswitch-switch"></div>
                      </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row row-bordered">
    <div class="col-md-4">
      <p style="font-size: larger; font-weight: 500">
      Time between order placed and sending of "Thank You" email.
      </p>
    </div>
    <div class="card card-user col-md-8">
      <div class="row">
        <div class="pr-3 pl-3" style="width: 100%">
          <div class="input-row settings row ml-0 mr-0">
            <div class="col-md-7 pl-0">
              <span class="form-label" > 
                <label class="pr-1">
                Time to Send "Thank You" Email 
                </label>
                ( <span id="thank-you-range-value" class="pr-1"></span>Minutes )
              </span>
            </div>
            <div class="col-md-5 pr-0">
              <div class="slidecontainer float-right">
                <%= f.text_field :thank_you_interval, min: '1', max: '60', class: 'bar-slider', type: 'range'  %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>

    <% if @shop.subscription_type != 'free' %>
      <div class="row row-bordered">
        <div class="col-md-4">
          <p style="font-size: larger; font-weight: 500">
            Time between order placed and sending of "Review" email.
          </p>
        </div>
        <div class="card card-user col-md-8">
          <div class="row">
            <div class="pr-3 pl-3" style="width: 100%">
              <div class="input-row settings row ml-0 mr-0">
                <div class="col-md-7 pl-0">
                  <span class="form-label" >
                    <label class="pr-1"> Time to Send "Review" Email </label>
                    ( <span id="review-value" class="pr-1"></span>Days )
                  </span>

                </div>
                <div class="col-md-5 pr-0">
                  <div class="slidecontainer float-right">
                      <%= f.text_field :review_interval, min: '1', max: '30', class: 'bar-slider', type: 'range'  %>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% end %>
    <div class="row">
      <div class="col-md-4">
        <p style="font-size: larger; font-weight: 500">
          This information will be available in your templates, hover over the labels to see how to can access each value on the template editor.
        </p>
      </div>
    <div class="card card-user col-md-8">
      <div class="card-header">
        <h5 class="card-title text-center"></h5>
      </div>
      <div class="card-body">
        <form>
          <div class="row">
              <div class="col-md-6 pr-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.shop_name}}">Shop Name</label>
                  <%= f.text_field :shop_name, class: "form-control", placeholder: 'Shop Name' %>
                </div>
              </div>
              <div class="col-md-6 pl-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.title}}" >Owner Title</label>
                  <%= f.text_field :title, class: "form-control", placeholder: 'Owner Title' %>
                </div>
              </div>
          </div>
          <div class="row">
              <div class="col-md-6 pr-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.owner_first_name}}" >Owner First Name</label>
                  <%= f.text_field :owner_first_name, class: "form-control", placeholder: 'Owner First Name' %>
                </div>
              </div>
              <div class="col-md-6 pl-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.owner_last_name}}" >Owner Last Name</label>
                  <%= f.text_field :owner_last_name, class: "form-control", placeholder: 'Owner Last Name' %>
                </div>
              </div>
          </div>
          <div class="row">
              <div class="col-md-6 pr-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.phone}}" >Shop Phone Number</label>
                  <%= f.text_field :phone, class: "form-control", placeholder: 'Shop Phone Number' %>
                </div>
              </div>
              <div class="col-md-6 pl-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.address}}">Address</label>
                  <%= f.text_field :address, class: "form-control", placeholder: 'Address' %>
                </div>
              </div>
          </div>
          <div class="row">
              <div class="col-md-6 pr-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.email}}">Email</label>
                  <%= f.text_field :email, class: "form-control", placeholder: 'Email' %>
                </div>
              </div>
              <div class="col-md-6 pl-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.website}}">Website</label>
                  <%= f.text_field :website, class: "form-control", placeholder: 'Website' %>
                </div>
              </div>
          </div>
          <div class="row">
              <div class="col-md-4 pr-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.instagram}}">Instagram</label>
                  <%= f.text_field :instagram, class: "form-control", placeholder: 'Sample' %>
                </div>
              </div>
              <div class="col-md-4 pl-1 pr-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.facebook}}">Facebook</label>
                  <%= f.text_field :facebook, class: "form-control", placeholder: 'Sample' %>
                </div>
              </div>
              <div class="col-md-4 pl-1">
                <div class="form-group">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.twitter}}">Twitter</label>
                  <%= f.text_field :twitter, class: "form-control", placeholder: 'Sample' %>
                </div>
              </div>
          </div>
            <div class="row">
              <div class="col-md-4 pr-1">
                <div class="form-group color">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.instagram}}">Stars color</label>
                  <%= f.text_field :star_color, type: 'color', class: "form-control", placeholder: 'Sample' %>
                </div>
              </div>
              <div class="col-md-4 pl-1 pr-1">
                <div class="form-group color">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.facebook}}">Form button color</label>
                  <%= f.text_field :form_button_color, type: 'color', class: "form-control", placeholder: 'Sample' %>
                </div>
              </div>
              <div class="col-md-4 pl-1">
                <div class="form-group color">
                  <label data-toggle="tooltip" data-placement="top" title="{{shop.twitter}}">Links color</label>
                  <%= f.text_field :default_link_color, type: 'color', class: "form-control", placeholder: 'Sample' %>
                </div>
              </div>
          </div>
        </form>
      </div>
      <div class="">
        <div class="card-footer">
          <div class="row">
            <div class="update ml-auto mr-auto">
                <button type="submit" class="btn btn-primary btn-round">Save Settings</button>
            </div>
          </div>
        </div>
      </div>    
    </div>

    </div>
  <div id="chartHours"></div>
  </div>
  <% end %>
</div>



<script>
var originUrl = window.top.location
  $(document).on('turbolinks:load', function(){
    $('label').tooltip();
  })


  var thankYouSlider = document.getElementById("shop_thank_you_interval");
  var thankYouSliderOutput = document.getElementById("thank-you-range-value");
  thankYouSliderOutput.innerHTML = thankYouSlider.value

  thankYouSlider.oninput = function() {
    thankYouSliderOutput.innerHTML = this.value;
  }

  var reviewSlider = document.getElementById("shop_review_interval");
  var reviewOutput = document.getElementById("review-value");
  reviewOutput.innerHTML = reviewSlider.value;

  reviewSlider.oninput = function() {
    reviewOutput.innerHTML = this.value;
  }


</script>


<style>
/* ON/OFF Switch */
.onoffswitch {
  position: relative;
  width: 55px;
  display: inline-block;
  font-size: 80%;
}
.onoffswitch .onoffswitch-label {
  display: block;
  overflow: hidden;
  cursor: pointer;
  border: 1px solid hsl(0, 0%, 90%);
  -moz-border-radius: 20px;
  -webkit-border-radius: 20px;
  border-radius: 20px;
  margin: 0;
}
.onoffswitch .onoffswitch-inner {
  width: 200%;
  margin-left: -100%;
  -webkit-transition: margin 0.15s ease-in-out;
  -o-transition: margin 0.15s ease-in-out;
  -moz-transition: margin 0.15s ease-in-out;
  transition: margin 0.15s ease-in-out;
}
.onoffswitch .onoffswitch-inner:before,
.onoffswitch .onoffswitch-inner:after {
  float: left;
  width: 50%;
  height: 24px;
  padding: 0;
  line-height: 24px;
  font-size: 80%;
  color: hsl(0, 0%, 100%);
  font-weight: normal;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}
.onoffswitch .onoffswitch-inner:before {
  content: "ON";
  padding-left: 10px;
  background-color: hsl(203, 100%, 39.1569%);
  color: hsl(0, 0%, 100%);
}
.onoffswitch .onoffswitch-inner:after {
  content: "OFF";
  padding-right: 10px;
  background-color: hsl(0, 0%, 98%);
  color: hsl(0, 0%, 24%);
  text-align: right;
}
.onoffswitch .onoffswitch-switch {
  width: 22px;
  height: 22px;
  margin: 0;
  background: hsl(0, 0%, 100%);
  box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
  -moz-border-radius: 50%;
  -webkit-border-radius: 50%;
  border-radius: 50%;
  position: absolute;
  top: 2px;
  bottom: 0;
  right: 35px;
  -webkit-transition: right 0.15s ease-in-out;
  -o-transition: right 0.15s ease-in-out;
  -moz-transition: right 0.15s ease-in-out;
  transition: right 0.15s ease-in-out;
}
.toggle-group {
  display: contents;
  position: relative;
  height: 27px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  top: 50%;
  left: 20px;
  margin-top: -13.5px;
}
.toggle-group input[type=checkbox] {
  position: absolute;
  left: 10px;
}
.toggle-group input[type=checkbox]:checked ~ .onoffswitch .onoffswitch-label .onoffswitch-inner {
  margin-left: 0;
}
.toggle-group input[type=checkbox]:checked ~ .onoffswitch .onoffswitch-label .onoffswitch-switch {
  right: 1px;
  box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
}
.toggle-group input[type=checkbox]:focus ~ .onoffswitch {
  outline: thin dotted #333;
  outline: 0;
}
.toggle-group label {
  position: absolute;
  cursor: pointer;
  padding-left: 65px;
  display: inline-block;
  text-align: left;
  line-height: 24px;
  width: 100%;
  z-index: 1;
  height: 24px;
  font-weight: 200;
}
/* ==== Accessibility ===== */
.aural {
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  overflow: hidden;
  position: absolute;
  width: 1px;
}
.aural:focus {
  clip: rect(0, 0, 0, 0);
  font-size: 1em;
  height: auto;
  outline: thin dotted;
  position: static !important;
  width: auto;
  overflow: visible;
}

</style>